var T=Object.defineProperty,z=Object.defineProperties;var D=Object.getOwnPropertyDescriptors;var S=Object.getOwnPropertySymbols;var E=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable;var b=(n,e,i)=>e in n?T(n,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):n[e]=i,_=(n,e)=>{for(var i in e||(e={}))E.call(e,i)&&b(n,i,e[i]);if(S)for(var i of S(e))H.call(e,i)&&b(n,i,e[i]);return n},L=(n,e)=>z(n,D(e));import{_ as o,j as t,a as r,B as $,V as g,L as Q,b as B,M as A,c as I,u as j,d as q,e as M,r as y,S as P,f as W,g as R,A as V,D as O,h as G}from"./index.badb0460.js";import{B as U}from"./PostedByUser.740291c2.js";import{T as F}from"./Tag.7cc4ca04.js";const J=({sortBy:n,setSortBy:e})=>{const i=s=>{e(s.target.innerText.toUpperCase())};return t(K,{children:r($,{children:[t(g,{variant:n==="HOT"?"contained":"outlined",onClick:i,children:"Hot"}),t(g,{variant:n==="VOTES"?"contained":"outlined",onClick:i,children:"Votes"}),t(g,{variant:n==="VIEWS"?"contained":"outlined",onClick:i,children:"Views"}),t(g,{variant:n==="NEWEST"?"contained":"outlined",onClick:i,children:"Newest"}),t(g,{variant:n==="OLDEST"?"contained":"outlined",onClick:i,children:"Oldest"})]})})};var K=o("div").withConfig({displayName:"SortQuesButtonGroup___StyledDiv",componentId:"sc-12swsdt-0"})({display:"flex",justifyContent:"flex-end",marginTop:"1rem",marginBottom:"1rem",fontSize:"0.875rem","@media (min-width: 640px)":{fontSize:"1rem"}});const X=o.div.withConfig({displayName:"Card__StatsContainer",componentId:"sc-mwxe1d-0"})({marginLeft:"0",marginRight:"0.25rem",textAlign:"center",fontSize:"0.75rem","@media (min-width: 640px)":{marginLeft:"0.5rem",marginRight:"0.75rem"}}),Y=o.div.withConfig({displayName:"Card__QuestionContainer",componentId:"sc-mwxe1d-1"})({width:"100%"}),Z=o.div.withConfig({displayName:"Card__Container",componentId:"sc-mwxe1d-2"})({display:"flex",padding:"0.25rem","@media (min-width: 640px)":{padding:"0.5rem"}}),tt=o.h3.withConfig({displayName:"Card__Question",componentId:"sc-mwxe1d-3"})({margin:"0",marginBottom:"0.5rem"}),et=({question:n})=>{const{_id:e,title:i,author:s,body:h,tags:w,points:f,views:d,answerCount:u,createdAt:c}=n;return r(Z,{children:[r(X,{children:[r("div",{children:[t(it,{children:f}),t("div",{children:"votes"})]}),r(nt,{children:[t(ot,{children:u}),t("div",{children:"answers"})]}),r("div",{children:[d," views"]})]}),r(Y,{children:[t(tt,{children:t(at,{to:`/questions/${e}`,children:i})}),t(rt,{children:h}),t(st,{children:w.map(p=>t(F,{tag:"a",href:`/tags/${p}`,styles:{link:{margin:"0 .25em .25em"}},children:p},p))}),t(U,{username:s.username,userId:s._id,createdAt:c})]})]})};var it=o("span").withConfig({displayName:"Card___StyledSpan",componentId:"sc-mwxe1d-4"})({display:"block","--tw-text-opacity":"1",color:"rgba(113, 128, 150, var(--tw-text-opacity))",fontSize:"0.875rem"}),nt=o("div").withConfig({displayName:"Card___StyledDiv",componentId:"sc-mwxe1d-5"})({marginTop:"0.5rem",marginBottom:"0.5rem"}),ot=o("span").withConfig({displayName:"Card___StyledSpan2",componentId:"sc-mwxe1d-6"})({display:"block","--tw-text-opacity":"1",color:"rgba(113, 128, 150, var(--tw-text-opacity))",fontSize:"0.875rem"}),at=o(Q).withConfig({displayName:"Card___StyledLink",componentId:"sc-mwxe1d-7"})({textDecoration:"none","--tw-text-opacity":"1",color:"rgba(49, 130, 206, var(--tw-text-opacity))",fontWeight:"400",":hover":{"--tw-text-opacity":"1",color:"rgba(44, 82, 130, var(--tw-text-opacity))"}}),rt=o("p").withConfig({displayName:"Card___StyledP",componentId:"sc-mwxe1d-8"})({margin:"0",paddingBottom:"0.25rem",fontSize:"0.75rem"}),st=o("div").withConfig({displayName:"Card___StyledDiv2",componentId:"sc-mwxe1d-9"})({display:"flex",flexWrap:"wrap",float:"left"});const dt=({handleLoadPosts:n,loading:e})=>t(ct,{children:r(lt,{onClick:n,disabled:e,children:[!e&&t(A,{}),e&&t(I,{size:"small",styles:{loaderIconWrapper:{"--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",marginRight:"0.5rem"}}}),e?"Loading...":"Load More"]})});var ct=o("div").withConfig({displayName:"LoadMore___StyledDiv",componentId:"sc-1tombnz-0"})({display:"flex",justifyContent:"center",marginTop:"0.75rem",marginBottom:"0.75rem"}),lt=o(B).withConfig({displayName:"LoadMore___StyledButton",componentId:"sc-1tombnz-1"})({display:"flex",alignItems:"center",justifyContent:"center",paddingLeft:"1.5rem",paddingRight:"1.5rem",paddingTop:"0.5rem",paddingBottom:"0.5rem",width:"50%","--tw-bg-opacity":"1",backgroundColor:"rgba(255, 255, 255, var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgba(49, 130, 206, var(--tw-text-opacity))",border:"1px solid lightgray",":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgba(49, 130, 206, var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))"}});const mt=o.div.withConfig({displayName:"QuesList__QuestionListContainer",componentId:"sc-1tmwif6-0"})(["",""],{position:"relative",width:"100%",marginLeft:"0.25rem",marginRight:"0.25rem",marginTop:"1.5rem","@media (min-width: 640px)":{marginLeft:"0.75rem",marginRight:"0.75rem"}}),pt=o.div.withConfig({displayName:"QuesList__QuestionListHeader",componentId:"sc-1tmwif6-1"})(["",""],{display:"flex",justifyContent:"space-between",alignItems:"center"}),gt=o.div.withConfig({displayName:"QuesList__QuestionListBody",componentId:"sc-1tmwif6-2"})([""]),xt=({tagFilterActive:n,searchFilterActive:e})=>{const{tagName:i,query:s}=j(),{clearEdit:h,notify:w}=q(),{user:f}=M(),[d,u]=y.exports.useState(null),[c,p]=y.exports.useState(P.Hot),[l,v]=y.exports.useState(1),[N,{data:m,loading:x}]=W({fetchPolicy:"network-only",onError:a=>{w(G(a),"error")}}),C=a=>{N({variables:_({},a)})};y.exports.useEffect(()=>{C({sortBy:c,page:1,limit:12,filterByTag:i,filterBySearch:s}),v(1),window.scrollTo(0,0)},[c,i,s]),y.exports.useEffect(()=>{m&&l===1&&u(m.getQuestions),m&&l!==1&&u(a=>L(_({},m.getQuestions),{questions:a.questions.concat(R(a.questions,m.getQuestions.questions))}))},[m]);const k=()=>{C({sortBy:c,page:l+1,limit:12,filterByTag:i,filterBySearch:s}),v(l+1)};return r(mt,{children:[r(pt,{children:[t(yt,{children:n?`Questions tagged [${i}]`:e?`Search results for "${s}"`:"All Questions"}),f?t(Q,{to:"/ask",onClick:()=>h(),children:t(ut,{children:"Ask Question"})}):t(V,{buttonType:"ask"})]}),t(J,{sortBy:c,setSortBy:p}),t(O,{}),r(gt,{children:[x&&l===1&&t("div",{style:{minWidth:"100%",marginTop:"1em"},children:t(I,{size:"large"})}),d&&(d.questions.length!==0?d.questions.map(a=>t(et,{question:a},a==null?void 0:a._id)):t(ht,{children:n?`There are no questions tagged "${i}".`:e?`No matches found for your search "${s}".`:"No questions found."}))]}),d&&d.next&&t(dt,{loading:l!==1&&x,handleLoadPosts:k})]})};var yt=o("h2").withConfig({displayName:"QuesList___StyledH",componentId:"sc-1tmwif6-3"})({fontSize:"1.125rem",fontWeight:"400","--tw-text-opacity":"1",color:"rgba(68, 51, 122, var(--tw-text-opacity))",margin:"0","@media (min-width: 640px)":{fontSize:"1.25rem"}}),ut=o(B).withConfig({displayName:"QuesList___StyledButton",componentId:"sc-1tmwif6-4"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(107, 70, 193, var(--tw-bg-opacity))",":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgba(85, 60, 154, var(--tw-bg-opacity))"},fontSize:"0.875rem","@media (min-width: 640px)":{fontSize:"1rem"}}),ht=o("h3").withConfig({displayName:"QuesList___StyledH2",componentId:"sc-1tmwif6-5"})({textAlign:"center","--tw-text-opacity":"1",color:"rgba(68, 51, 122, var(--tw-text-opacity))",marginTop:"2.5rem"});export{xt as default};
