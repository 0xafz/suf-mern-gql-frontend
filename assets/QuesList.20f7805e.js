var k=Object.defineProperty,D=Object.defineProperties;var z=Object.getOwnPropertyDescriptors;var S=Object.getOwnPropertySymbols;var E=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable;var L=(n,e,i)=>e in n?k(n,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):n[e]=i,_=(n,e)=>{for(var i in e||(e={}))E.call(e,i)&&L(n,i,e[i]);if(S)for(var i of S(e))H.call(e,i)&&L(n,i,e[i]);return n},Q=(n,e)=>D(n,z(e));import{_ as o,j as t,a as r,B as A,b as g,L as I,c as B,M as $,d as N,u as j,e as q,f as M,r as h,S as P,g as W,h as R,A as O,D as V,i as G}from"./index.3c4988d7.js";import{B as U}from"./PostedByUser.867ee6e5.js";import{T as F}from"./Tag.514a09a7.js";const J=({sortBy:n,setSortBy:e})=>{const i=s=>{e(s.target.innerText.toUpperCase())};return t(K,{children:r(A,{children:[t(g,{active:n==="HOT",onClick:i,children:"Hot"}),t(g,{active:n==="VOTES",onClick:i,children:"Votes"}),t(g,{active:n==="VIEWS",onClick:i,children:"Views"}),t(g,{active:n==="NEWEST",onClick:i,children:"Newest"}),t(g,{active:n==="OLDEST",onClick:i,children:"Oldest"})]})})};var K=o("div").withConfig({displayName:"SortQuesButtonGroup___StyledDiv",componentId:"sc-12swsdt-0"})({display:"flex",justifyContent:"flex-end",marginTop:"1rem",marginBottom:"1rem",fontSize:"0.875rem","@media (min-width: 640px)":{fontSize:"1rem"}});const X=o.div.withConfig({displayName:"Card__StatsContainer",componentId:"sc-mwxe1d-0"})({marginLeft:"0",marginRight:"0.25rem",textAlign:"center",fontSize:"0.75rem","@media (min-width: 640px)":{marginLeft:"0.5rem",marginRight:"0.75rem"}}),Y=o.div.withConfig({displayName:"Card__QuestionContainer",componentId:"sc-mwxe1d-1"})({width:"100%"}),Z=o.div.withConfig({displayName:"Card__Container",componentId:"sc-mwxe1d-2"})({display:"flex",padding:"0.25rem","@media (min-width: 640px)":{padding:"0.5rem"}}),tt=o.h3.withConfig({displayName:"Card__Question",componentId:"sc-mwxe1d-3"})({margin:"0",marginBottom:"0.5rem"}),et=({question:n})=>{const{_id:e,title:i,author:s,body:u,tags:f,points:w,views:d,answerCount:y,createdAt:c}=n;return r(Z,{children:[r(X,{children:[r("div",{children:[t(it,{children:w}),t("div",{children:"votes"})]}),r(nt,{children:[t(ot,{children:y}),t("div",{children:"answers"})]}),r("div",{children:[d," views"]})]}),r(Y,{children:[t(tt,{children:t(at,{to:`/questions/${e}`,children:i})}),t(rt,{children:u}),t(st,{children:f.map(p=>t(F,{tag:"a",href:`/tags/${p}`,styles:{link:{margin:"0 .25em .25em"}},children:p},p))}),t(U,{username:s.username,userId:s._id,createdAt:c})]})]})};var it=o("span").withConfig({displayName:"Card___StyledSpan",componentId:"sc-mwxe1d-4"})({display:"block","--tw-text-opacity":"1",color:"rgba(113, 128, 150, var(--tw-text-opacity))",fontSize:"0.875rem"}),nt=o("div").withConfig({displayName:"Card___StyledDiv",componentId:"sc-mwxe1d-5"})({marginTop:"0.5rem",marginBottom:"0.5rem"}),ot=o("span").withConfig({displayName:"Card___StyledSpan2",componentId:"sc-mwxe1d-6"})({display:"block","--tw-text-opacity":"1",color:"rgba(113, 128, 150, var(--tw-text-opacity))",fontSize:"0.875rem"}),at=o(I).withConfig({displayName:"Card___StyledLink",componentId:"sc-mwxe1d-7"})({textDecoration:"none","--tw-text-opacity":"1",color:"hsla(206, 100%, 40%, var(--tw-text-opacity))",fontWeight:"400",":hover":{"--tw-text-opacity":"1",color:"hsla(209, 100%, 32%, var(--tw-text-opacity))"},fontSize:"1.125rem"}),rt=o("p").withConfig({displayName:"Card___StyledP",componentId:"sc-mwxe1d-8"})({margin:"0",paddingBottom:"0.25rem",fontSize:"0.875rem"}),st=o("div").withConfig({displayName:"Card___StyledDiv2",componentId:"sc-mwxe1d-9"})({display:"flex",flexWrap:"wrap",float:"left"});const dt=({handleLoadPosts:n,loading:e})=>t(ct,{children:r(lt,{onClick:n,disabled:e,children:[!e&&t($,{}),e&&t(N,{size:"small",styles:{loaderIconWrapper:{"--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",marginRight:"0.5rem"}}}),e?"Loading...":"Load More"]})});var ct=o("div").withConfig({displayName:"LoadMore___StyledDiv",componentId:"sc-1tombnz-0"})({display:"flex",justifyContent:"center",marginTop:"0.75rem",marginBottom:"0.75rem"}),lt=o(B).withConfig({displayName:"LoadMore___StyledButton",componentId:"sc-1tombnz-1"})({display:"flex",alignItems:"center",justifyContent:"center",paddingLeft:"1.5rem",paddingRight:"1.5rem",paddingTop:"0.5rem",paddingBottom:"0.5rem",width:"50%","--tw-bg-opacity":"1",backgroundColor:"rgba(255, 255, 255, var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"hsla(206, 100%, 40%, var(--tw-text-opacity))",border:"1px solid lightgray",":hover":{"--tw-bg-opacity":"1",backgroundColor:"hsla(206, 100%, 52%, var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))"}});const mt=o.div.withConfig({displayName:"QuesList__QuestionListContainer",componentId:"sc-1tmwif6-0"})(["",""],{position:"relative",width:"100%",marginLeft:"0.25rem",marginRight:"0.25rem",marginTop:"1.5rem","@media (min-width: 640px)":{marginLeft:"0.75rem",marginRight:"0.75rem"}}),pt=o.div.withConfig({displayName:"QuesList__QuestionListHeader",componentId:"sc-1tmwif6-1"})(["",""],{display:"flex",justifyContent:"space-between",alignItems:"center"}),gt=o.div.withConfig({displayName:"QuesList__QuestionListBody",componentId:"sc-1tmwif6-2"})([""]),Ct=({tagFilterActive:n,searchFilterActive:e})=>{const{tagName:i,query:s}=j(),{clearEdit:u,notify:f}=q(),{user:w}=M(),[d,y]=h.exports.useState(null),[c,p]=h.exports.useState(P.Hot),[l,C]=h.exports.useState(1),[b,{data:m,loading:v}]=W({fetchPolicy:"network-only",onError:a=>{f(G(a),"error")}}),x=a=>{b({variables:_({},a)})};h.exports.useEffect(()=>{x({sortBy:c,page:1,limit:12,filterByTag:i,filterBySearch:s}),C(1),window.scrollTo(0,0)},[c,i,s]),h.exports.useEffect(()=>{m&&l===1&&y(m.getQuestions),m&&l!==1&&y(a=>Q(_({},m.getQuestions),{questions:a.questions.concat(R(a.questions,m.getQuestions.questions))}))},[m]);const T=()=>{x({sortBy:c,page:l+1,limit:12,filterByTag:i,filterBySearch:s}),C(l+1)};return r(mt,{children:[r(pt,{children:[t(ht,{children:n?`Questions tagged [${i}]`:e?`Search results for "${s}"`:"All Questions"}),w?t(I,{to:"/ask",onClick:()=>u(),children:t(B,{children:"Ask Question"})}):t(O,{buttonType:"ask"})]}),t(J,{sortBy:c,setSortBy:p}),t(V,{}),r(gt,{children:[v&&l===1&&t("div",{style:{minWidth:"100%",marginTop:"1em"},children:t(N,{size:"large"})}),d&&(d.questions.length!==0?d.questions.map(a=>t(et,{question:a},a==null?void 0:a._id)):t(yt,{children:n?`There are no questions tagged "${i}".`:e?`No matches found for your search "${s}".`:"No questions found."}))]}),d&&d.next&&t(dt,{loading:l!==1&&v,handleLoadPosts:T})]})};var ht=o("h2").withConfig({displayName:"QuesList___StyledH",componentId:"sc-1tmwif6-3"})({fontSize:"1.125rem",fontWeight:"400",margin:"0","@media (min-width: 640px)":{fontSize:"1.25rem"}}),yt=o("h3").withConfig({displayName:"QuesList___StyledH2",componentId:"sc-1tmwif6-4"})({textAlign:"center",marginTop:"2.5rem"});export{Ct as default};
