var ge=Object.defineProperty,he=Object.defineProperties;var ve=Object.getOwnPropertyDescriptors;var W=Object.getOwnPropertySymbols;var re=Object.prototype.hasOwnProperty,se=Object.prototype.propertyIsEnumerable;var ie=(e,n,s)=>n in e?ge(e,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[n]=s,D=(e,n)=>{for(var s in n||(n={}))re.call(n,s)&&ie(e,s,n[s]);if(W)for(var s of W(n))se.call(n,s)&&ie(e,s,n[s]);return e},B=(e,n)=>he(e,ve(n));var G=(e,n)=>{var s={};for(var i in e)re.call(e,i)&&n.indexOf(i)<0&&(s[i]=e[i]);if(e!=null&&W)for(var i of W(e))n.indexOf(i)<0&&se.call(e,i)&&(s[i]=e[i]);return s};import{O as J,t as K,_ as r,c as _e,f as X,e as H,v as Z,w as ee,x as we,a as l,j as t,T as j,F as Se,n as pe,A as P,i as k,y as L,z as fe,C as de,V as R,E as ae,G as E,r as x,H as Ce,J as be,K as Ae,N as De,l as xe,D as te,B as Qe,b as Y,P as Be,Q as ke,U as Ne,W as Ee,X as Ie,Y as qe,Z as Te,$ as Le,a0 as $e,a1 as ze,a2 as Me,a3 as Oe,a4 as Re,u as Fe,a5 as Ue,d as Ve,a6 as We,m as le}from"./index.3c4988d7.js";import{T as Pe}from"./Tag.5de55a02.js";import{B as He}from"./PostedByUser.867ee6e5.js";import{T as je}from"./Tag.514a09a7.js";import{C as ce}from"./index.8528e0fb.js";const Ge=J({answerBody:K().min(30,"Must be at least 30 characters")}),Ye=({quesId:e,tags:n})=>{var h;const{user:s}=X(),{notify:i,clearEdit:o}=H(),{register:m,handleSubmit:v,reset:C,formState:{errors:g}}=Z({mode:"onChange",resolver:ee(Ge)}),[b,{loading:A}]=we({onError:u=>{i(k(u),"error")}});return l("div",{children:[s&&t(Je,{children:"Your Answer"}),s&&l("form",{onSubmit:v(({answerBody:u})=>{b({variables:{quesId:e,body:u},update:($,{data:I})=>{C();const z=$.readQuery({query:L,variables:{quesId:e}}),q=B(D({},z==null?void 0:z.viewQuestion),{answers:I==null?void 0:I.postAnswer});$.writeQuery({query:L,variables:{quesId:e},data:{viewQuestion:q}}),i("Answer submitted!")}})}),children:[t(j,B(D({tag:"textarea"},m("answerBody")),{name:"answerBody",required:!0,rows:5,fullWidth:!0,placeholder:"Enter atleast 30 characters",error:"answerBody"in g,helperText:"answerBody"in g?(h=g==null?void 0:g.answerBody)==null?void 0:h.message:""})),t(Ke,{type:"submit",disabled:A,children:A?"processing...":"Post Your Answer"})]}),l(Xe,{children:["Browse other questions tagged \xA0",n.map(u=>t(Ze,{label:u,to:`/tags/${u}`},u)),"\xA0 or \xA0",s?t(Se,{children:t(pe,{to:"/ask",onClick:()=>o(),children:"ask your own question."})}):t(P,{})]})]})};var Je=r("h3").withConfig({displayName:"Form___StyledH",componentId:"sc-1h8r67h-0"})({marginTop:"1.25rem",marginBottom:"1rem",fontWeight:"400",fontSize:"1.125rem"}),Ke=r(_e).withConfig({displayName:"Form___StyledButton",componentId:"sc-1h8r67h-1"})({marginTop:"2.5rem",display:"block"}),Xe=r("div").withConfig({displayName:"Form___StyledDiv",componentId:"sc-1h8r67h-2"})({marginTop:"2rem",fontSize:"0.875rem",lineHeight:"1.5rem","@media (min-width: 640px)":{fontSize:"1rem"}}),Ze=r(Pe).withConfig({displayName:"Form___StyledTag",componentId:"sc-1h8r67h-3"})({marginRight:"0.25rem"});const et=(e,n,s)=>{if(n.length<2)return n;if(e==="OLDEST")return[...n].sort((i,o)=>new Date(i==null?void 0:i.createdAt).valueOf()-new Date(o==null?void 0:o.createdAt).valueOf());if(e==="NEWEST")return[...n].sort((i,o)=>new Date(o==null?void 0:o.createdAt).valueOf()-new Date(i==null?void 0:i.createdAt).valueOf());{const i=n.find(m=>(m==null?void 0:m._id)===s),o=n.filter(m=>(m==null?void 0:m._id)!==s).sort((m,v)=>v.points-m.points);return i?[i,...o]:o}},ne=m=>{var v=m,{checkedIcon:e,checked:n,icon:s,onClick:i}=v,o=G(v,["checkedIcon","checked","icon","onClick"]);return t(tt,B(D({onClick:i},o),{$_css:[{alignItems:"center",justifyContent:"center",verticalAlign:"middle",transitionProperty:"background-color, border-color, color, fill, stroke",userSelect:"none",cursor:"pointer",backgroundColor:"rgba(0, 0, 0, 0)",borderStyle:"none",textDecoration:"none",borderRadius:"50%",outlineNonepadding:"9px",":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgba(237, 242, 247, var(--tw-bg-opacity))"},":focus":{"--tw-bg-opacity":"1",backgroundColor:"rgba(237, 242, 247, var(--tw-bg-opacity))"}}],children:n?e:s}))};var tt=r("button").withConfig({displayName:"Checkbox___StyledButton",componentId:"sc-1u71f9m-0"})(["",""],e=>e.$_css);const F=r(fe).withConfig({displayName:"Vote__StyledSvgIcon",componentId:"sc-adxtcd-0"})(["width:3rem;height:3rem;padding:0.5rem;"]);var nt=r(F).withConfig({displayName:"Vote___StyledStyledSvgIcon4",componentId:"sc-adxtcd-1"})({"--tw-text-opacity":"1",color:"rgba(56, 161, 105, var(--tw-text-opacity))"}),ot=r(F).withConfig({displayName:"Vote___StyledStyledSvgIcon3",componentId:"sc-adxtcd-2"})({"--tw-text-opacity":"1",color:"rgba(203, 213, 224, var(--tw-text-opacity))"}),it=r(F).withConfig({displayName:"Vote___StyledStyledSvgIcon2",componentId:"sc-adxtcd-3"})({"--tw-text-opacity":"1",color:"rgba(56, 161, 105, var(--tw-text-opacity))"}),rt=r(F).withConfig({displayName:"Vote___StyledStyledSvgIcon",componentId:"sc-adxtcd-4"})({"--tw-text-opacity":"1",color:"rgba(203, 213, 224, var(--tw-text-opacity))"});const st=({checked:e,handleUpvote:n})=>t(ne,{"aria-label":"upvote",checked:e,icon:t(rt,{children:t(de,{})}),checkedIcon:t(it,{children:t(de,{})}),onClick:()=>n(R.Upvote)}),dt=({checked:e,handleDownvote:n})=>t(ne,{"aria-label":"downvote",checked:e,icon:t(ot,{children:t(ae,{})}),checkedIcon:t(nt,{children:t(ae,{})}),onClick:()=>n(R.Downvote)}),ue=({handleDelete:e,bodyType:n})=>{const[s,i]=x.exports.useState(!1),o=()=>{i(!0)},m=()=>{i(!1)},v=()=>{e(),m()};return l("div",{style:{display:"inline"},children:[t(E,{onClick:o,children:"Delete"}),s&&l(Ce,{onClose:m,children:[t(be,{children:"Confirm Delete"}),t(Ae,{children:t("p",{children:`Are you sure you want to delete your ${n||"question"}?`})}),l(De,{children:[t(at,{onClick:m,children:"Cancel"}),t(lt,{onClick:v,children:"Delete"})]})]})]})};var at=r(E).withConfig({displayName:"DeleteDialog___StyledLightButton",componentId:"sc-w7kwp8-0"})({marginRight:"0.25rem",paddingTop:"0.5rem",paddingBottom:"0.5rem",paddingLeft:"1rem",paddingRight:"1rem"}),lt=r(E).withConfig({displayName:"DeleteDialog___StyledLightButton2",componentId:"sc-w7kwp8-1"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(197, 48, 48, var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",paddingTop:"0.5rem",paddingBottom:"0.5rem",paddingLeft:"1rem",paddingRight:"1rem"});const ct=({comment:e,user:n,quesAnsId:s,editComment:i,deleteComment:o})=>{const[m,v]=x.exports.useState(!1),[C,g]=x.exports.useState(e.body);x.exports.useEffect(()=>{g(e.body)},[e]);const b=()=>{v(!1)};return t(mt,{children:m?l(gt,{onSubmit:S=>{S.preventDefault(),i(C,e._id,s),b()},children:[t(j,{tag:"textarea",value:C,required:!0,fullWidth:!0,placeholder:"Enter at least 15 characters",rows:2,onChange:S=>g(S.target.value)}),l("div",{children:[t(ht,{type:"submit",children:"Update Comment"}),t(E,{onClick:()=>v(!1),children:"Cancel"})]})]}):l("div",{children:[l(pt,{children:[e.body," \u2013"," ",t(pe,{to:`/user/${e.author.username}`,children:e.author.username}),t("span",{children:` ${xe(e.createdAt)} `}),t(ut,{children:e.createdAt!==e.updatedAt&&"(edited)"})]}),n&&n._id===e.author._id&&t(yt,{onClick:()=>v(!0),children:"Edit"}),n&&n._id===e.author._id&&t(ue,{bodyType:"comment",handleDelete:()=>o(e._id,s)})]})})};var mt=r("div").withConfig({displayName:"Comment___StyledDiv",componentId:"sc-z6b6z5-0"})({marginTop:"0.25rem",marginBottom:"0.25rem"}),pt=r("p").withConfig({displayName:"Comment___StyledP",componentId:"sc-z6b6z5-1"})({fontSize:"0.75rem",wordBreak:"break-all",display:"inline",marginRight:"0.5rem"}),ut=r("span").withConfig({displayName:"Comment___StyledSpan",componentId:"sc-z6b6z5-2"})({fontSize:".8em"}),yt=r(E).withConfig({displayName:"Comment___StyledLightButton",componentId:"sc-z6b6z5-3"})({marginRight:"0.25rem"}),gt=r("form").withConfig({displayName:"Comment___StyledForm",componentId:"sc-z6b6z5-4"})({marginTop:"0.75rem"}),ht=r(E).withConfig({displayName:"Comment___StyledLightButton2",componentId:"sc-z6b6z5-5"})({marginRight:"1rem"});const vt=J({commentBody:K().min(15,"Must be at least 15 characters")}),_t=({user:e,comments:n,addComment:s,editComment:i,deleteComment:o,quesAnsId:m})=>{var O;const[v,C]=x.exports.useState(!0),[g,b]=x.exports.useState(!1),{register:A,handleSubmit:S,reset:h,formState:{errors:u}}=Z({mode:"onChange",resolver:ee(vt)}),$=()=>{b(!1)},I=()=>{C(!1)},z=({commentBody:T})=>{s(T,m),I(),$(),h()},q=v?n.slice(0,3):n;return l("div",{children:[n.length!==0&&t(wt,{}),q.map(T=>t(St,{children:t(ct,{comment:T,user:e,quesAnsId:m,editComment:i,deleteComment:o})},T==null?void 0:T._id)),q.length!==n.length?l(E,{onClick:I,children:["show ",n.length-q.length," more comments"]}):e&&!g&&t(E,{onClick:()=>b(!0),children:"Add a comment"}),g&&l(ft,{onSubmit:S(z),children:[t(Ct,B(D({tag:"textarea"},A("commentBody")),{required:!0,placeholder:"Enter at least 15 characters",rows:3,fullWidth:!0,error:"commentBody"in u,helperText:"commentBody"in u?(O=u==null?void 0:u.commentBody)==null?void 0:O.message:""})),l("div",{children:[t(E,{type:"submit",style:{marginRight:9},children:"Add Comment"}),t(E,{onClick:()=>b(!1),children:"Cancel"})]})]})]})};var wt=r(te).withConfig({displayName:"Comments___StyledDivider",componentId:"sc-b51hkw-0"})({"--tw-border-opacity":"1",borderColor:"hsla(210, 8%, 90%, var(--tw-border-opacity))"}),St=r("div").withConfig({displayName:"Comments___StyledDiv",componentId:"sc-b51hkw-1"})({borderBottom:"1px solid rgba(0,0,0,.08)"}),ft=r("form").withConfig({displayName:"Comments___StyledForm",componentId:"sc-b51hkw-2"})({marginTop:"0.25rem"}),Ct=r(j).withConfig({displayName:"Comments___StyledTextField",componentId:"sc-b51hkw-3"})({fontSize:"0.875rem"});function me(e){return x.exports.createElement("svg",D({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 214.155 214.155",style:{enableBackground:"new 0 0 214.155 214.155"},xmlSpace:"preserve"},e),x.exports.createElement("path",{d:"M74.551 193.448 0 118.896l33.136-33.135 41.415 41.415L181.02 20.707l33.135 33.136L74.551 193.448z"}))}const bt=({checked:e,handleAcceptAns:n})=>t(ne,{"aria-label":e?"Un accept the answer":"Accept the answer",checked:e,icon:t(At,{"aria-hidden":"true",children:t(me,{})}),checkedIcon:t(Dt,{"aria-hidden":"true",children:t(me,{})}),onClick:n});var At=r(F).withConfig({displayName:"AcceptAnswer___StyledStyledSvgIcon",componentId:"sc-18y2uux-0"})({"--tw-text-opacity":"1",color:"rgba(203, 213, 224, var(--tw-text-opacity))"}),Dt=r(F).withConfig({displayName:"AcceptAnswer___StyledStyledSvgIcon2",componentId:"sc-18y2uux-1"})({"--tw-text-opacity":"1",color:"rgba(56, 161, 105, var(--tw-text-opacity))"});const xt=J({editedAnswerBody:K().min(30,"Must be at least 30 characters")});function ye({quesAns:e,voteQuesAns:n,editQuesAns:s,deleteQuesAns:i,addComment:o,editComment:m,deleteComment:v,acceptAnswer:C,isAnswer:g,acceptedAnswer:b,quesAuthor:A}){var oe;const{_id:S,author:h,body:u,tags:$,comments:I,points:z,voted:q,createdAt:O,updatedAt:T}=e,{user:Q}=X(),[M,d]=x.exports.useState(!1),[p,y]=x.exports.useState(u),{register:a,handleSubmit:c,reset:f,formState:{errors:_}}=Z({mode:"onChange",resolver:ee(xt)});x.exports.useEffect(()=>{g&&y(u)},[u,g]);const N=()=>{d(!0)},U=()=>{d(!1)},w=()=>{f(),s(p,S),U()};return l(Qt,{children:[l(Bt,{children:[Q?t(st,{checked:q===R.Upvote,handleUpvote:n}):t(P,{buttonType:"upvote"}),t("span",{children:z}),Q?t(dt,{checked:q===R.Downvote,handleDownvote:n}):t(P,{buttonType:"downvote"}),g&&Q&&Q._id===(A==null?void 0:A._id)&&t(bt,{checked:b===S,handleAcceptAns:C})]}),l(kt,{children:[M?l("form",{onSubmit:c(w),children:[t(j,B(D({tag:"textarea",value:p,fullWidth:!0},a("editedAnswerBody")),{error:"editedAnswerBody"in _,helperText:"editedAnswerBody"in _?(oe=_.editedAnswerBody)==null?void 0:oe.message:"",required:!0,onChange:V=>y(V.target.value),placeholder:"Enter at least 30 characters",rows:4})),l("div",{children:[t(Et,{type:"submit",children:"Update Answer"}),t(E,{onClick:()=>d(!1),children:"Cancel"})]})]}):t(Nt,{children:u}),$&&t(It,{children:$.map(V=>t(je,{tag:"a",label:V,href:`/tags/${V}`,styles:{link:{margin:"0 .25em .25em"}}},V))}),l(qt,{children:[!M&&l(Tt,{children:[Q&&Q._id===h._id&&t(Lt,{onClick:g?N:s,children:"Edit"}),Q&&(Q._id===h._id||Q.role==="ADMIN")&&t(ue,{bodyType:g?"answer":"question",handleDelete:i})]}),t(He,{username:h.username,userId:h._id,createdAt:O,updatedAt:T,filledVariant:!0,isAnswer:g})]}),t(_t,{user:Q,comments:I,addComment:o,editComment:m,deleteComment:v,quesAnsId:S})]})]})}var Qt=r("div").withConfig({displayName:"QuesAnsDetails___StyledDiv",componentId:"sc-1pq8sqg-0"})({display:"flex",flexDirection:"row",flexWrap:"nowrap",width:"100%"}),Bt=r("div").withConfig({displayName:"QuesAnsDetails___StyledDiv2",componentId:"sc-1pq8sqg-1"})({display:"flex",flexDirection:"column",alignItems:"center"}),kt=r("div").withConfig({displayName:"QuesAnsDetails___StyledDiv3",componentId:"sc-1pq8sqg-2"})({paddingLeft:"0.75rem",paddingRight:"0.75rem",paddingTop:"0.5rem",width:"100%"}),Nt=r("p").withConfig({displayName:"QuesAnsDetails___StyledP",componentId:"sc-1pq8sqg-3"})({margin:"0",paddingBottom:"0.25rem",fontSize:"1rem","--tw-text-opacity":"1",color:"rgba(45, 55, 72, var(--tw-text-opacity))"}),Et=r(E).withConfig({displayName:"QuesAnsDetails___StyledLightButton",componentId:"sc-1pq8sqg-4"})({marginRight:"1rem"}),It=r("div").withConfig({displayName:"QuesAnsDetails___StyledDiv4",componentId:"sc-1pq8sqg-5"})({display:"flex",flexWrap:"wrap"}),qt=r("div").withConfig({displayName:"QuesAnsDetails___StyledDiv5",componentId:"sc-1pq8sqg-6"})({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between",gap:"0.5rem",marginTop:"1.25rem",marginBottom:"1.25rem"}),Tt=r("div").withConfig({displayName:"QuesAnsDetails___StyledDiv6",componentId:"sc-1pq8sqg-7"})({display:"inline-block",marginRight:"0.5rem"}),Lt=r(E).withConfig({displayName:"QuesAnsDetails___StyledLightButton2",componentId:"sc-1pq8sqg-8"})({marginRight:"0.25rem"});const $t=({sortBy:e,setSortBy:n})=>{const s=i=>{n(i.target.innerText.toUpperCase())};return l(Qe,{children:[t(Y,{active:e==="VOTES",onClick:s,children:"Votes"}),t(Y,{active:e==="NEWEST",onClick:s,children:"Newest"}),t(Y,{active:e==="OLDEST",onClick:s,children:"Oldest"})]})},zt=({quesId:e,answers:n,acceptedAnswer:s,quesAuthor:i})=>{const{notify:o}=H(),[m,v]=x.exports.useState("VOTES"),[C]=Be({onError:d=>{o(k(d),"error")}}),[g]=ke({onError:d=>{o(k(d),"error")}}),[b]=Ne({onError:d=>{o(k(d),"error")}}),[A]=Ee({onError:d=>{o(k(d),"error")}}),[S]=Ie({onError:d=>{o(k(d),"error")}}),[h]=qe({onError:d=>{o(k(d),"error")}}),[u]=Te({onError:d=>{o(k(d),"error")}}),$=(d,p,y)=>{b({variables:{quesId:e,ansId:d,voteType:p},optimisticResponse:{__typename:"Mutation",voteAnswer:{__typename:"Answer",_id:d,voted:p,points:p===R.Upvote?y+1:y-1}}})},I=(d,p)=>{C({variables:{quesId:e,ansId:p,body:d},update:()=>{o("Answer updated!")}})},z=d=>{g({variables:{quesId:e,ansId:d},update:(p,{data:y})=>{const a=p.readQuery({query:L,variables:{quesId:e}}),c=a==null?void 0:a.viewQuestion.answers.filter(_=>(_==null?void 0:_._id)!==(y==null?void 0:y.deleteAnswer)),f=B(D({},a==null?void 0:a.viewQuestion),{answers:c});p.writeQuery({query:L,variables:{quesId:e},data:{viewQuestion:f}}),o("Answer deleted!")}})},q=d=>{A({variables:{quesId:e,ansId:d},optimisticResponse:{acceptAnswer:{_id:e,acceptedAnswer:s===d?null:d,__typename:"Question"}},update:(p,{data:y})=>{y!=null&&y.acceptAnswer.acceptedAnswer?o("Accepted the answer!"):o("Un-accepted the answer.")}})},O=(d,p)=>{S({variables:{ansId:p,body:d},update:(y,{data:a})=>{const c=y.readQuery({query:L,variables:{quesId:e}}),f=c==null?void 0:c.viewQuestion.answers.map(N=>(N==null?void 0:N._id)===p?B(D({},N),{comments:a==null?void 0:a.addAnsComment}):N),_=B(D({},c==null?void 0:c.viewQuestion),{answers:f});y.writeQuery({query:L,variables:{quesId:e},data:{viewQuestion:_}}),o("Comment added to answer!")}})},T=(d,p,y)=>{h({variables:{ansId:y,commentId:p,body:d},update:()=>{o("Comment edited!")}})},Q=(d,p)=>{u({variables:{ansId:p,commentId:d},update:(y,{data:a})=>{const c=y.readQuery({query:L,variables:{quesId:e}}),f=c==null?void 0:c.viewQuestion.answers.find(w=>(w==null?void 0:w._id)===p),_=f==null?void 0:f.comments.filter(w=>(w==null?void 0:w._id)!==(a==null?void 0:a.deleteAnsComment)),N=c==null?void 0:c.viewQuestion.answers.map(w=>(w==null?void 0:w._id)===p?B(D({},w),{comments:_}):w),U=B(D({},c==null?void 0:c.viewQuestion),{answers:N});y.writeQuery({query:L,variables:{quesId:e},data:{viewQuestion:U}}),o("Comment deleted!")}})},M=et(m,n,s);return l(Mt,{children:[M.length!==0&&l(Ot,{children:[l(Rt,{children:[M.length," ",M.length===1?"Answer":"Answers"]}),t($t,{sortBy:m,setSortBy:v})]}),t("div",{children:M.map((d,p)=>l("div",{children:[t(ye,{quesAns:d,voteQuesAns:y=>$(d._id,y,d.points),editQuesAns:I,deleteQuesAns:()=>z(d._id),acceptAnswer:()=>q(d._id),addComment:O,editComment:T,deleteComment:Q,isAnswer:!0,acceptedAnswer:s,quesAuthor:i}),p>=0&&p<M.length&&t(Ft,{})]},d._id))})]})};var Mt=r("div").withConfig({displayName:"List___StyledDiv",componentId:"sc-1b6fqio-0"})({marginTop:"2.5rem"}),Ot=r("div").withConfig({displayName:"List___StyledDiv2",componentId:"sc-1b6fqio-1"})({display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap"}),Rt=r("h2").withConfig({displayName:"List___StyledH",componentId:"sc-1b6fqio-2"})({fontWeight:"400",fontSize:"1.25rem"}),Ft=r(te).withConfig({displayName:"List___StyledDivider",componentId:"sc-1b6fqio-3"})({marginTop:"1rem",marginBottom:"1rem","--tw-border-opacity":"1",borderColor:"hsla(210, 8%, 90%, var(--tw-border-opacity))"});const Ut=s=>{var i=s,{question:e}=i,n=G(i,["question"]);const{_id:o,answers:m,acceptedAnswer:v,title:C,body:g,tags:b,author:A}=e,{setEditingQuestion:S,notify:h}=H(),u=Le(),[$]=$e({onError:a=>{h(k(a),"error")}}),[I]=ze({onError:a=>{h(k(a),"error")}}),[z]=Me({onError:a=>{h(k(a),"error")}}),[q]=Oe({onError:a=>{h(k(a),"error")}}),[O]=Re({onError:a=>{h(k(a),"error")}}),T=(a,c)=>{$({variables:{quesId:o,voteType:a},optimisticResponse:{__typename:"Mutation",voteQuestion:{__typename:"Question",_id:o,points:a===R.Upvote?c+1:c-1,voted:a}}})},Q=()=>{S({quesId:o,title:C,body:g,tags:b}),u("/ask")},M=()=>{I({variables:{quesId:o},update:()=>{u("/"),h("Question deleted!")}})},d=a=>{z({variables:{quesId:o,body:a},update:(c,{data:f})=>{const _=c.readQuery({query:L,variables:{quesId:o}}),N=B(D({},_==null?void 0:_.viewQuestion),{comments:f==null?void 0:f.addQuesComment});c.writeQuery({query:L,variables:{quesId:o},data:{viewQuestion:N}}),h("Comment added to question!")}})},p=(a,c)=>{q({variables:{quesId:o,commentId:c,body:a},update:()=>{h("Comment edited!")}})},y=a=>{O({variables:{quesId:o,commentId:a},update:(c,{data:f})=>{const _=c.readQuery({query:L,variables:{quesId:o}}),N=_==null?void 0:_.viewQuestion.comments.filter(w=>(w==null?void 0:w._id)!==(f==null?void 0:f.deleteQuesComment)),U=B(D({},_==null?void 0:_.viewQuestion),{comments:N});c.writeQuery({query:L,variables:{quesId:o},data:{viewQuestion:U}}),h("Comment deleted!")}})};return l("div",B(D({},n),{children:[t(ye,{quesAns:e,voteQuesAns:a=>T(a,e.points),editQuesAns:Q,deleteQuesAns:M,addComment:d,editComment:p,deleteComment:y}),t(zt,{quesId:o,answers:m,acceptedAnswer:v,quesAuthor:A}),t(Ye,{quesId:o,tags:b})]}))},Vt=r.div.withConfig({displayName:"Question__QuestionHeader",componentId:"sc-qcm1x0-0"})({}),on=()=>{const{clearEdit:e,notify:n}=H(),{user:s}=X(),{quesId:i}=Fe(),[o,m]=x.exports.useState(null),[v,{data:C,loading:g}]=Ue({onError:u=>{n(k(u),"error")}});if(x.exports.useEffect(()=>{i&&v({variables:{quesId:i}})},[i]),x.exports.useEffect(()=>{C&&m(C.viewQuestion)},[C]),g||!o)return t(ce,{children:t(Ve,{})});const{title:b,views:A,createdAt:S,updatedAt:h}=o;return l(ce,{children:[l(Vt,{children:[l(Wt,{children:[t(Pt,{children:b}),t(Ht,{children:s?t(We,{to:"/ask",onClick:()=>e(),children:"Ask Question"}):t(P,{buttonType:"ask"})})]}),l(jt,{children:[l("span",{children:["Asked ",l("strong",{children:[le(S)," ago"]})]}),S!==h&&l(Gt,{children:["Edited ",l("strong",{children:[le(h)," ago"]})]}),l(Yt,{children:["Viewed ",l("strong",{children:[A," times"]})]})]})]}),t(Jt,{}),t(Ut,{question:o})]})};var Wt=r("div").withConfig({displayName:"Question___StyledDiv",componentId:"sc-qcm1x0-1"})({display:"flex",flexWrap:"nowrap",flexDirection:"column","@media (min-width: 640px)":{justifyContent:"space-between",alignItems:"center",flexDirection:"row"}}),Pt=r("h1").withConfig({displayName:"Question___StyledH",componentId:"sc-qcm1x0-2"})({margin:"0",marginBottom:"0.25rem",fontWeight:"400",fontSize:"1.5rem",wordWrap:"break-word"}),Ht=r("div").withConfig({displayName:"Question___StyledDiv2",componentId:"sc-qcm1x0-3"})({padding:"0",margin:"0",marginLeft:"0.5rem",verticalAlign:"baseline",order:"-1",alignSelf:"flex-end","@media (min-width: 640px)":{order:"0",alignSelf:"auto"}}),jt=r("div").withConfig({displayName:"Question___StyledDiv3",componentId:"sc-qcm1x0-4"})({fontSize:"0.75rem"}),Gt=r("span").withConfig({displayName:"Question___StyledSpan",componentId:"sc-qcm1x0-5"})({marginLeft:"0.5rem"}),Yt=r("span").withConfig({displayName:"Question___StyledSpan2",componentId:"sc-qcm1x0-6"})({marginLeft:"0.5rem"}),Jt=r(te).withConfig({displayName:"Question___StyledDivider",componentId:"sc-qcm1x0-7"})({marginTop:"1rem",marginBottom:"1rem","--tw-border-opacity":"1",borderColor:"hsla(210, 8%, 90%, var(--tw-border-opacity))"});export{on as default};
