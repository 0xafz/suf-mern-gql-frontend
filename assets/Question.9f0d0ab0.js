var ye=Object.defineProperty,ge=Object.defineProperties;var he=Object.getOwnPropertyDescriptors;var W=Object.getOwnPropertySymbols;var ie=Object.prototype.hasOwnProperty,re=Object.prototype.propertyIsEnumerable;var oe=(e,n,s)=>n in e?ye(e,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[n]=s,A=(e,n)=>{for(var s in n||(n={}))ie.call(n,s)&&oe(e,s,n[s]);if(W)for(var s of W(n))re.call(n,s)&&oe(e,s,n[s]);return e},B=(e,n)=>ge(e,he(n));var G=(e,n)=>{var s={};for(var r in e)ie.call(e,r)&&n.indexOf(r)<0&&(s[r]=e[r]);if(e!=null&&W)for(var r of W(e))n.indexOf(r)<0&&re.call(e,r)&&(s[r]=e[r]);return s};import{O as J,s as K,_ as i,b as ve,e as X,d as H,t as Z,v as ee,w as _e,a as l,j as t,T as j,F as we,m as me,A as P,h as k,x as $,y as F,z as se,C as R,E as ae,G as E,r as x,H as Se,J as fe,K as Ce,N as be,k as Ae,B as xe,V as Y,P as De,Q as Qe,U as Be,W as ke,X as Ne,Y as Ee,Z as Ie,$ as qe,a0 as Le,a1 as $e,a2 as Te,a3 as ze,a4 as Me,u as Oe,a5 as Re,c as Fe,a6 as Ue,l as de}from"./index.badb0460.js";import{T as Ve}from"./Tag.831ac8ee.js";import{B as We}from"./PostedByUser.740291c2.js";import{T as Pe}from"./Tag.7cc4ca04.js";const He=J({answerBody:K().min(30,"Must be at least 30 characters")}),je=({quesId:e,tags:n})=>{var g;const{user:s}=X(),{notify:r,clearEdit:o}=H(),{register:m,handleSubmit:v,reset:C,formState:{errors:y}}=Z({mode:"onChange",resolver:ee(He)}),[b,{loading:D}]=_e({onError:p=>{r(k(p),"error")}});return l("div",{children:[s&&t(Ge,{children:"Your Answer"}),s&&l("form",{onSubmit:v(({answerBody:p})=>{b({variables:{quesId:e,body:p},update:(T,{data:I})=>{C();const z=T.readQuery({query:$,variables:{quesId:e}}),q=B(A({},z==null?void 0:z.viewQuestion),{answers:I==null?void 0:I.postAnswer});T.writeQuery({query:$,variables:{quesId:e},data:{viewQuestion:q}}),r("Answer submitted!")}})}),children:[t(j,B(A({tag:"textarea"},m("answerBody")),{name:"answerBody",required:!0,rows:5,fullWidth:!0,placeholder:"Enter atleast 30 characters",error:"answerBody"in y,helperText:"answerBody"in y?(g=y==null?void 0:y.answerBody)==null?void 0:g.message:""})),t("div",{children:t(Ye,{type:"submit",disabled:D,children:"Post Your Answer"})})]}),l(Je,{children:["Browse other questions tagged \xA0",n.map(p=>t(Ke,{label:p,to:`/tags/${p}`},p)),"\xA0 or \xA0",s?t(we,{children:t(me,{to:"/ask",onClick:()=>o(),children:"ask your own question."})}):t(P,{})]})]})};var Ge=i("h3").withConfig({displayName:"Form___StyledH",componentId:"sc-1h8r67h-0"})({"--tw-text-opacity":"1",color:"rgba(68, 51, 122, var(--tw-text-opacity))"}),Ye=i(ve).withConfig({displayName:"Form___StyledButton",componentId:"sc-1h8r67h-1"})({marginTop:"0.75rem"}),Je=i("div").withConfig({displayName:"Form___StyledDiv",componentId:"sc-1h8r67h-2"})({marginTop:"1rem",fontSize:"0.875rem",lineHeight:"1.5rem","@media (min-width: 640px)":{fontSize:"1rem"}}),Ke=i(Ve).withConfig({displayName:"Form___StyledTag",componentId:"sc-1h8r67h-3"})({marginRight:"0.25rem"});const Xe=(e,n,s)=>{if(n.length<2)return n;if(e==="OLDEST")return[...n].sort((r,o)=>new Date(r==null?void 0:r.createdAt).valueOf()-new Date(o==null?void 0:o.createdAt).valueOf());if(e==="NEWEST")return[...n].sort((r,o)=>new Date(o==null?void 0:o.createdAt).valueOf()-new Date(r==null?void 0:r.createdAt).valueOf());{const r=n.find(m=>(m==null?void 0:m._id)===s),o=n.filter(m=>(m==null?void 0:m._id)!==s).sort((m,v)=>v.points-m.points);return r?[r,...o]:o}},te=m=>{var v=m,{checkedIcon:e,checked:n,icon:s,onClick:r}=v,o=G(v,["checkedIcon","checked","icon","onClick"]);return t(Ze,B(A({onClick:r},o),{$_css:[{padding:"9px",backgroundColor:"rgba(0, 0, 0, 0)",borderStyle:"none",textDecoration:"none",userSelect:"none",alignItems:"center",justifyContent:"center",verticalAlign:"middle",borderRadius:"50%",":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgba(237, 242, 247, var(--tw-bg-opacity))"},":focus":{"--tw-bg-opacity":"1",backgroundColor:"rgba(237, 242, 247, var(--tw-bg-opacity))"},cursor:"pointer",outline:"2px solid transparent",outlineOffset:"2px",transitionProperty:"background-color, border-color, color, fill, stroke"}],children:n?e:s}))};var Ze=i("button").withConfig({displayName:"Checkbox___StyledButton",componentId:"sc-1u71f9m-0"})(["",""],e=>e.$_css);const et=({checked:e,handleUpvote:n})=>t(te,{checked:e,icon:t(nt,{children:t(se,{})}),checkedIcon:t(ot,{children:t(se,{})}),onClick:()=>n(R.Upvote)}),tt=({checked:e,handleDownvote:n})=>t(te,{checked:e,icon:t(it,{children:t(ae,{})}),checkedIcon:t(rt,{children:t(ae,{})}),onClick:()=>n(R.Downvote)});var nt=i(F).withConfig({displayName:"Vote___StyledSvgIcon",componentId:"sc-adxtcd-0"})({"--tw-text-opacity":"1",color:"rgba(203, 213, 224, var(--tw-text-opacity))",fontSize:"32px"}),ot=i(F).withConfig({displayName:"Vote___StyledSvgIcon2",componentId:"sc-adxtcd-1"})({"--tw-text-opacity":"1",color:"rgba(56, 161, 105, var(--tw-text-opacity))",fontSize:"32px"}),it=i(F).withConfig({displayName:"Vote___StyledSvgIcon3",componentId:"sc-adxtcd-2"})({"--tw-text-opacity":"1",color:"rgba(203, 213, 224, var(--tw-text-opacity))",fontSize:"32px"}),rt=i(F).withConfig({displayName:"Vote___StyledSvgIcon4",componentId:"sc-adxtcd-3"})({"--tw-text-opacity":"1",color:"rgba(56, 161, 105, var(--tw-text-opacity))",fontSize:"32px"});const pe=({handleDelete:e,bodyType:n})=>{const[s,r]=x.exports.useState(!1),o=()=>{r(!0)},m=()=>{r(!1)},v=()=>{e(),m()};return l("div",{style:{display:"inline"},children:[t(E,{onClick:o,children:"Delete"}),s&&l(Se,{onClose:m,children:[t(fe,{children:"Confirm Delete"}),t(Ce,{children:t("p",{children:`Are you sure you want to delete your ${n||"question"}?`})}),l(be,{children:[t(st,{onClick:m,children:"Cancel"}),t(at,{onClick:v,children:"Delete"})]})]})]})};var st=i(E).withConfig({displayName:"DeleteDialog___StyledLightButton",componentId:"sc-w7kwp8-0"})({marginRight:"0.25rem",paddingTop:"0.5rem",paddingBottom:"0.5rem",paddingLeft:"1rem",paddingRight:"1rem"}),at=i(E).withConfig({displayName:"DeleteDialog___StyledLightButton2",componentId:"sc-w7kwp8-1"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(197, 48, 48, var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",paddingTop:"0.5rem",paddingBottom:"0.5rem",paddingLeft:"1rem",paddingRight:"1rem"});const dt=({comment:e,user:n,quesAnsId:s,editComment:r,deleteComment:o})=>{const[m,v]=x.exports.useState(!1),[C,y]=x.exports.useState(e.body);x.exports.useEffect(()=>{y(e.body)},[e]);const b=()=>{v(!1)};return t(lt,{children:m?l(yt,{onSubmit:S=>{S.preventDefault(),r(C,e._id,s),b()},children:[t(j,{tag:"textarea",value:C,required:!0,fullWidth:!0,placeholder:"Enter at least 15 characters",rows:2,onChange:S=>y(S.target.value)}),l("div",{children:[t(gt,{type:"submit",children:"Update Comment"}),t(E,{onClick:()=>v(!1),children:"Cancel"})]})]}):l("div",{children:[l(ct,{children:[e.body," \u2013"," ",t(mt,{to:`/user/${e.author.username}`,children:e.author.username}),t("span",{children:` ${Ae(e.createdAt)} `}),t(pt,{children:e.createdAt!==e.updatedAt&&"(edited)"})]}),n&&n._id===e.author._id&&t(ut,{onClick:()=>v(!0),children:"edit"}),n&&n._id===e.author._id&&t(pe,{bodyType:"comment",handleDelete:()=>o(e._id,s)})]})})};var lt=i("div").withConfig({displayName:"Comment___StyledDiv",componentId:"sc-z6b6z5-0"})({marginTop:"0.25rem",marginBottom:"0.25rem"}),ct=i("p").withConfig({displayName:"Comment___StyledP",componentId:"sc-z6b6z5-1"})({fontSize:"0.75rem",wordBreak:"break-all",display:"inline",marginRight:"0.5rem"}),mt=i(me).withConfig({displayName:"Comment___StyledLink",componentId:"sc-z6b6z5-2"})({}),pt=i("span").withConfig({displayName:"Comment___StyledSpan",componentId:"sc-z6b6z5-3"})({fontSize:".8em"}),ut=i(E).withConfig({displayName:"Comment___StyledLightButton",componentId:"sc-z6b6z5-4"})({marginRight:"0.25rem"}),yt=i("form").withConfig({displayName:"Comment___StyledForm",componentId:"sc-z6b6z5-5"})({marginTop:"0.75rem"}),gt=i(E).withConfig({displayName:"Comment___StyledLightButton2",componentId:"sc-z6b6z5-6"})({marginRight:"1rem"});const ht=J({commentBody:K().min(15,"Must be at least 15 characters")}),vt=({user:e,comments:n,addComment:s,editComment:r,deleteComment:o,quesAnsId:m})=>{var O;const[v,C]=x.exports.useState(!0),[y,b]=x.exports.useState(!1),{register:D,handleSubmit:S,reset:g,formState:{errors:p}}=Z({mode:"onChange",resolver:ee(ht)}),T=()=>{b(!1)},I=()=>{C(!1)},z=({commentBody:L})=>{s(L,m),I(),T(),g()},q=v?n.slice(0,3):n;return l("div",{children:[n.length!==0&&t(_t,{}),q.map(L=>t(wt,{children:t(dt,{comment:L,user:e,quesAnsId:m,editComment:r,deleteComment:o})},L==null?void 0:L._id)),q.length!==n.length?l(E,{onClick:I,children:["show ",n.length-q.length," more comments"]}):e&&!y&&t(E,{onClick:()=>b(!0),children:"Add a comment"}),y&&l(St,{onSubmit:S(z),children:[t(ft,B(A({tag:"textarea"},D("commentBody")),{required:!0,placeholder:"Enter at least 15 characters",rows:3,fullWidth:!0,error:"commentBody"in p,helperText:"commentBody"in p?(O=p==null?void 0:p.commentBody)==null?void 0:O.message:""})),l("div",{children:[t(E,{type:"submit",style:{marginRight:9},children:"Add Comment"}),t(E,{onClick:()=>b(!1),children:"Cancel"})]})]})]})};var _t=i("div").withConfig({displayName:"Comments___StyledDiv",componentId:"sc-b51hkw-0"})({height:"1px","--tw-bg-opacity":"1",backgroundColor:"rgba(203, 213, 224, var(--tw-bg-opacity))"}),wt=i("div").withConfig({displayName:"Comments___StyledDiv2",componentId:"sc-b51hkw-1"})({borderBottom:"1px solid rgba(0,0,0,.08)"}),St=i("form").withConfig({displayName:"Comments___StyledForm",componentId:"sc-b51hkw-2"})({marginTop:"0.25rem"}),ft=i(j).withConfig({displayName:"Comments___StyledTextField",componentId:"sc-b51hkw-3"})({fontSize:"0.875rem"});function le(e){return x.exports.createElement("svg",A({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 214.155 214.155",style:{enableBackground:"new 0 0 214.155 214.155"},xmlSpace:"preserve"},e),x.exports.createElement("path",{d:"M74.551 193.448 0 118.896l33.136-33.135 41.415 41.415L181.02 20.707l33.135 33.136L74.551 193.448z"}))}const Ct=({checked:e,handleAcceptAns:n})=>t(te,{checked:e,icon:t(bt,{children:t(le,{})}),checkedIcon:t(At,{children:t(le,{})}),onClick:n});var bt=i(F).withConfig({displayName:"AcceptAnswer___StyledSvgIcon",componentId:"sc-18y2uux-0"})({"--tw-text-opacity":"1",color:"rgba(203, 213, 224, var(--tw-text-opacity))"}),At=i(F).withConfig({displayName:"AcceptAnswer___StyledSvgIcon2",componentId:"sc-18y2uux-1"})({"--tw-text-opacity":"1",color:"rgba(56, 161, 105, var(--tw-text-opacity))"});const xt=J({editedAnswerBody:K().min(30,"Must be at least 30 characters")});function ue({quesAns:e,voteQuesAns:n,editQuesAns:s,deleteQuesAns:r,addComment:o,editComment:m,deleteComment:v,acceptAnswer:C,isAnswer:y,acceptedAnswer:b,quesAuthor:D}){var ne;const{_id:S,author:g,body:p,tags:T,comments:I,points:z,voted:q,createdAt:O,updatedAt:L}=e,{user:Q}=X(),[M,a]=x.exports.useState(!1),[u,h]=x.exports.useState(p),{register:d,handleSubmit:c,reset:f,formState:{errors:_}}=Z({mode:"onChange",resolver:ee(xt)});x.exports.useEffect(()=>{y&&h(p)},[p,y]);const N=()=>{a(!0)},U=()=>{a(!1)},w=()=>{f(),s(u,S),U()};return l(Dt,{children:[l(Qt,{children:[Q?t(et,{checked:q===R.Upvote,handleUpvote:n}):t(P,{buttonType:"upvote"}),t(Bt,{children:z}),Q?t(tt,{checked:q===R.Downvote,handleDownvote:n}):t(P,{buttonType:"downvote"}),y&&Q&&Q._id===(D==null?void 0:D._id)&&t(Ct,{checked:b===S,handleAcceptAns:C})]}),l(kt,{children:[M?l("form",{onSubmit:c(w),children:[t(j,B(A({tag:"textarea",value:u,fullWidth:!0},d("editedAnswerBody")),{error:"editedAnswerBody"in _,helperText:"editedAnswerBody"in _?(ne=_.editedAnswerBody)==null?void 0:ne.message:"",required:!0,onChange:V=>h(V.target.value),placeholder:"Enter at least 30 characters",rows:4})),l(Et,{children:[t(It,{type:"submit",children:"Update Answer"}),t(E,{onClick:()=>a(!1),children:"Cancel"})]})]}):t(Nt,{children:p}),T&&t(qt,{children:T.map(V=>t(Pe,{tag:"a",label:V,href:`/tags/${V}`,styles:{link:{margin:"0 .25em .25em"}}},V))}),l(Lt,{children:[!M&&l($t,{children:[Q&&Q._id===g._id&&t(Tt,{onClick:y?N:s,children:"Edit"}),Q&&(Q._id===g._id||Q.role==="ADMIN")&&t(pe,{bodyType:y?"answer":"question",handleDelete:r})]}),t(We,{username:g.username,userId:g._id,createdAt:O,updatedAt:L,filledVariant:!0,isAnswer:y})]}),t(vt,{user:Q,comments:I,addComment:o,editComment:m,deleteComment:v,quesAnsId:S})]})]})}var Dt=i("div").withConfig({displayName:"QuesAnsDetails___StyledDiv",componentId:"sc-1pq8sqg-0"})({display:"flex",flexDirection:"row",flexWrap:"nowrap",width:"100%"}),Qt=i("div").withConfig({displayName:"QuesAnsDetails___StyledDiv2",componentId:"sc-1pq8sqg-1"})({display:"flex",flexDirection:"column",alignItems:"center"}),Bt=i("span").withConfig({displayName:"QuesAnsDetails___StyledSpan",componentId:"sc-1pq8sqg-2"})({}),kt=i("div").withConfig({displayName:"QuesAnsDetails___StyledDiv3",componentId:"sc-1pq8sqg-3"})({paddingLeft:"0.75rem",paddingRight:"0.75rem",paddingTop:"0.5rem",width:"100%"}),Nt=i("p").withConfig({displayName:"QuesAnsDetails___StyledP",componentId:"sc-1pq8sqg-4"})({margin:"0",paddingBottom:"0.25rem",fontSize:"0.875rem","--tw-text-opacity":"1",color:"rgba(45, 55, 72, var(--tw-text-opacity))"}),Et=i("div").withConfig({displayName:"QuesAnsDetails___StyledDiv4",componentId:"sc-1pq8sqg-5"})({}),It=i(E).withConfig({displayName:"QuesAnsDetails___StyledLightButton",componentId:"sc-1pq8sqg-6"})({marginRight:"1rem"}),qt=i("div").withConfig({displayName:"QuesAnsDetails___StyledDiv5",componentId:"sc-1pq8sqg-7"})({display:"flex",flexWrap:"wrap"}),Lt=i("div").withConfig({displayName:"QuesAnsDetails___StyledDiv6",componentId:"sc-1pq8sqg-8"})({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between",marginTop:"1.25rem",marginBottom:"1.25rem"}),$t=i("div").withConfig({displayName:"QuesAnsDetails___StyledDiv7",componentId:"sc-1pq8sqg-9"})({display:"inline-block",marginRight:"0.5rem"}),Tt=i(E).withConfig({displayName:"QuesAnsDetails___StyledLightButton2",componentId:"sc-1pq8sqg-10"})({marginRight:"0.25rem"});const zt=({sortBy:e,setSortBy:n})=>{const s=r=>{n(r.target.innerText.toUpperCase())};return l(Mt,{children:[t(Y,{variant:e==="VOTES"?"contained":"outlined",onClick:s,children:"Votes"}),t(Y,{variant:e==="NEWEST"?"contained":"outlined",onClick:s,children:"Newest"}),t(Y,{variant:e==="OLDEST"?"contained":"outlined",onClick:s,children:"Oldest"})]})};var Mt=i(xe).withConfig({displayName:"SortAnsButtonGroup___StyledButtonGroup",componentId:"sc-166tdk-0"})({marginRight:"2.5rem"});const Ot=({quesId:e,answers:n,acceptedAnswer:s,quesAuthor:r})=>{const{notify:o}=H(),[m,v]=x.exports.useState("VOTES"),[C]=De({onError:a=>{o(k(a),"error")}}),[y]=Qe({onError:a=>{o(k(a),"error")}}),[b]=Be({onError:a=>{o(k(a),"error")}}),[D]=ke({onError:a=>{o(k(a),"error")}}),[S]=Ne({onError:a=>{o(k(a),"error")}}),[g]=Ee({onError:a=>{o(k(a),"error")}}),[p]=Ie({onError:a=>{o(k(a),"error")}}),T=(a,u,h)=>{b({variables:{quesId:e,ansId:a,voteType:u},optimisticResponse:{__typename:"Mutation",voteAnswer:{__typename:"Answer",_id:a,voted:u,points:u===R.Upvote?h+1:h-1}}})},I=(a,u)=>{C({variables:{quesId:e,ansId:u,body:a},update:()=>{o("Answer updated!")}})},z=a=>{y({variables:{quesId:e,ansId:a},update:(u,{data:h})=>{const d=u.readQuery({query:$,variables:{quesId:e}}),c=d==null?void 0:d.viewQuestion.answers.filter(_=>(_==null?void 0:_._id)!==(h==null?void 0:h.deleteAnswer)),f=B(A({},d==null?void 0:d.viewQuestion),{answers:c});u.writeQuery({query:$,variables:{quesId:e},data:{viewQuestion:f}}),o("Answer deleted!")}})},q=a=>{D({variables:{quesId:e,ansId:a},optimisticResponse:{acceptAnswer:{_id:e,acceptedAnswer:s===a?null:a,__typename:"Question"}},update:(u,{data:h})=>{h!=null&&h.acceptAnswer.acceptedAnswer?o("Accepted the answer!"):o("Un-accepted the answer.")}})},O=(a,u)=>{S({variables:{ansId:u,body:a},update:(h,{data:d})=>{const c=h.readQuery({query:$,variables:{quesId:e}}),f=c==null?void 0:c.viewQuestion.answers.map(N=>(N==null?void 0:N._id)===u?B(A({},N),{comments:d==null?void 0:d.addAnsComment}):N),_=B(A({},c==null?void 0:c.viewQuestion),{answers:f});h.writeQuery({query:$,variables:{quesId:e},data:{viewQuestion:_}}),o("Comment added to answer!")}})},L=(a,u,h)=>{g({variables:{ansId:h,commentId:u,body:a},update:()=>{o("Comment edited!")}})},Q=(a,u)=>{p({variables:{ansId:u,commentId:a},update:(h,{data:d})=>{const c=h.readQuery({query:$,variables:{quesId:e}}),f=c==null?void 0:c.viewQuestion.answers.find(w=>(w==null?void 0:w._id)===u),_=f==null?void 0:f.comments.filter(w=>(w==null?void 0:w._id)!==(d==null?void 0:d.deleteAnsComment)),N=c==null?void 0:c.viewQuestion.answers.map(w=>(w==null?void 0:w._id)===u?B(A({},w),{comments:_}):w),U=B(A({},c==null?void 0:c.viewQuestion),{answers:N});h.writeQuery({query:$,variables:{quesId:e},data:{viewQuestion:U}}),o("Comment deleted!")}})},M=Xe(m,n,s);return l(Rt,{children:[M.length!==0&&l(Ft,{children:[l(Ut,{children:[M.length," ",M.length===1?"Answer":"Answers"]}),t(zt,{sortBy:m,setSortBy:v})]}),t("div",{children:M.map(a=>t(Vt,{children:t(ue,{quesAns:a,voteQuesAns:u=>T(a._id,u,a.points),editQuesAns:I,deleteQuesAns:()=>z(a._id),acceptAnswer:()=>q(a._id),addComment:O,editComment:L,deleteComment:Q,isAnswer:!0,acceptedAnswer:s,quesAuthor:r})},a._id))})]})};var Rt=i("div").withConfig({displayName:"List___StyledDiv",componentId:"sc-1b6fqio-0"})({marginTop:"2.5rem"}),Ft=i("div").withConfig({displayName:"List___StyledDiv2",componentId:"sc-1b6fqio-1"})({display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap"}),Ut=i("h2").withConfig({displayName:"List___StyledH",componentId:"sc-1b6fqio-2"})({"--tw-text-opacity":"1",color:"rgba(68, 51, 122, var(--tw-text-opacity))",fontWeight:"400",fontSize:"1.25rem"}),Vt=i("div").withConfig({displayName:"List___StyledDiv3",componentId:"sc-1b6fqio-3"})({marginBottom:"0.75rem",borderBottomWidth:"1px","--tw-border-opacity":"1",borderColor:"rgba(211, 211, 211, var(--tw-border-opacity))"});const Wt=s=>{var r=s,{question:e}=r,n=G(r,["question"]);const{_id:o,answers:m,acceptedAnswer:v,title:C,body:y,tags:b,author:D}=e,{setEditingQuestion:S,notify:g}=H(),p=qe(),[T]=Le({onError:d=>{g(k(d),"error")}}),[I]=$e({onError:d=>{g(k(d),"error")}}),[z]=Te({onError:d=>{g(k(d),"error")}}),[q]=ze({onError:d=>{g(k(d),"error")}}),[O]=Me({onError:d=>{g(k(d),"error")}}),L=(d,c)=>{T({variables:{quesId:o,voteType:d},optimisticResponse:{__typename:"Mutation",voteQuestion:{__typename:"Question",_id:o,points:d===R.Upvote?c+1:c-1,voted:d}}})},Q=()=>{S({quesId:o,title:C,body:y,tags:b}),p("/ask")},M=()=>{I({variables:{quesId:o},update:()=>{p("/"),g("Question deleted!")}})},a=d=>{z({variables:{quesId:o,body:d},update:(c,{data:f})=>{const _=c.readQuery({query:$,variables:{quesId:o}}),N=B(A({},_==null?void 0:_.viewQuestion),{comments:f==null?void 0:f.addQuesComment});c.writeQuery({query:$,variables:{quesId:o},data:{viewQuestion:N}}),g("Comment added to question!")}})},u=(d,c)=>{q({variables:{quesId:o,commentId:c,body:d},update:()=>{g("Comment edited!")}})},h=d=>{O({variables:{quesId:o,commentId:d},update:(c,{data:f})=>{const _=c.readQuery({query:$,variables:{quesId:o}}),N=_==null?void 0:_.viewQuestion.comments.filter(w=>(w==null?void 0:w._id)!==(f==null?void 0:f.deleteQuesComment)),U=B(A({},_==null?void 0:_.viewQuestion),{comments:N});c.writeQuery({query:$,variables:{quesId:o},data:{viewQuestion:U}}),g("Comment deleted!")}})};return l(Pt,B(A({},n),{children:[t(ue,{quesAns:e,voteQuesAns:d=>L(d,e.points),editQuesAns:Q,deleteQuesAns:M,addComment:a,editComment:u,deleteComment:h}),t(Ot,{quesId:o,answers:m,acceptedAnswer:v,quesAuthor:D}),t(je,{quesId:o,tags:b})]}))};var Pt=i("div").withConfig({displayName:"Content___StyledDiv",componentId:"sc-kuaxdy-0"})({borderTop:"1px solid lightgray"});const ce=i.div.withConfig({displayName:"Question__Container",componentId:"sc-qcm1x0-0"})({padding:"0.75rem",width:"100%"}),Ht=i.div.withConfig({displayName:"Question__Header",componentId:"sc-qcm1x0-1"})({}),rn=()=>{const{clearEdit:e,notify:n}=H(),{user:s}=X(),{quesId:r}=Oe(),[o,m]=x.exports.useState(null),[v,{data:C,loading:y}]=Re({onError:p=>{n(k(p),"error")}});if(x.exports.useEffect(()=>{r&&v({variables:{quesId:r}})},[r]),x.exports.useEffect(()=>{C&&m(C.viewQuestion)},[C]),y||!o)return t(ce,{children:t(Fe,{})});const{title:b,views:D,createdAt:S,updatedAt:g}=o;return l(ce,{children:[l(Ht,{children:[l(jt,{children:[t(Gt,{children:b}),s?t(Yt,{children:t(Ue,{to:"/ask",onClick:()=>e(),children:"Ask Question"})}):t(P,{buttonType:"ask"})]}),l(Jt,{children:[l("span",{children:["Asked ",l("strong",{children:[de(S)," ago"]})]}),S!==g&&l(Kt,{children:["Edited ",l("strong",{children:[de(g)," ago"]})]}),l(Xt,{children:["Viewed ",l("strong",{children:[D," times"]})]})]})]}),t(Wt,{question:o})]})};var jt=i("div").withConfig({displayName:"Question___StyledDiv",componentId:"sc-qcm1x0-2"})({display:"flex",flexWrap:"nowrap",flexDirection:"column","@media (min-width: 640px)":{justifyContent:"space-between",alignItems:"center",flexDirection:"row"}}),Gt=i("h1").withConfig({displayName:"Question___StyledH",componentId:"sc-qcm1x0-3"})({margin:"0",marginBottom:"0.25rem",fontWeight:"400",fontSize:"1.5rem",wordWrap:"break-word"}),Yt=i("div").withConfig({displayName:"Question___StyledDiv2",componentId:"sc-qcm1x0-4"})({padding:"0",margin:"0",marginLeft:"0.5rem",verticalAlign:"baseline",order:"-1",alignSelf:"flex-end","@media (min-width: 640px)":{order:"0",alignSelf:"auto"}}),Jt=i("div").withConfig({displayName:"Question___StyledDiv3",componentId:"sc-qcm1x0-5"})({paddingBottom:"0.5rem",fontSize:"0.75rem",marginBottom:"0.5rem"}),Kt=i("span").withConfig({displayName:"Question___StyledSpan",componentId:"sc-qcm1x0-6"})({marginLeft:"0.5rem"}),Xt=i("span").withConfig({displayName:"Question___StyledSpan2",componentId:"sc-qcm1x0-7"})({marginLeft:"0.5rem"});export{rn as default};
